# General discussion {#discussion}

\vspace*{\fill}\par 
\pagebreak

## Organization of predictive treatment effect heterogeneity literature

### Main findings

We systematically organized the available methodological literature on the
evaluation of treatment effect heterogeneity using the reference class each
method used to define patient similarity. This resulted in the identification of
three separate categories of methods.

Risk-based approaches define patient similarity based solely on risk
factors. These methods can be further divided into risk stratification
approaches that rely on the definition of risk-based subgroups of patients and
risk magnification approaches that assume a constant relative treatment
effect. The latter can be used to make personalized benefit predictions. In
chapter \@ref(sim) the strong assumtion of constant relative treatment effects
was relaxed, allowing for increasingly flexible (**??**) interactions of
baseline risk with treatment. Of course, the assumption that treatment effect is
a function of basline risk remained intact.

Treatment effect modeling methods focus both on risk factors and treatment
effect modifiers to make personalized absolute benefit predictions. These
methods are more intuitive, in the sense that they attempt to account for all
dimensions of treatment effect heterogeneity (**elaborate!!**). However,
statistical power is an important constraint, as multiple treatment-covariate
interaction effects need to be estimated. In the presence of well-documented and
clinically supported effect modifiers statistical power may suffice as only a
small pre-defined set of interaction effects will be evaluated. In more
automated settings, staging or penalization approaches can be considered. The
former rely on the "calibration" of first-stage "working" models including many
treatment-covariate interactions. The latter rely on automated processes that
shrink the estimated interaction effects towards 0.

Finally, optimal treatment rule methods focus on modeling treatment effect
modifiers for the evaluation of treatment effect heterogeneity. Their aim is not
to provide personalized treatment effect estimates or to separate patients into
subgroups of similar expected treatment effect, but rather to separate them into
two categories. Patients who benefit from treatment and patients who do not. If
there are no major treatment-related harms, they can be used out of the box to
guide medical decisions. However, in the presence of serious treatment adverse
events, these methods may be more challenging to implement. That is because the
effect of baseline risk factors is not taken into account. This means that the
baseline risk of the main outcome of interest is not evaluated and, therefore,
the absolute risk reduction achieved with treatment cannot be compared to the
risk increase for the adverse event in question. Also, the clinical relevance of
following the treatment assignment rule cannot be easily evaluated
(**elaborate!!**).

### Limitations

A large number of methods have been suggested in medical research for the
evaluation of treatment effect heterogeneity.  However, treatment effect
heterogeneity is not a problem specific to healthcare research with important
advances being made in economics, social sciences, and other fields, as well. In
addition, the increasing availability of observational data from massive
databases capturing a large proportion of patients' interaction with the
healthcare system has provided additional challenges, with confounding,
suboptimal data capture, local or temporal inconsistencies only being a few of
them. All these have resulted on the suggestion of many different methods for
the evaluation of treatment effect heterogeneity, many of which may have not
been captured in our literature review. Our focus was on the clinical trial
setting and mainly regression-based methods were considered.

The above categorization of methods for the assessment of treatment effect
heterogeneity is not the only possible. When focusing on subgroup analyses
[Lipkovich et al](https://onlinelibrary.wiley.com/doi/full/10.1002/sim.7064)
identified two frameworks for personalized medicine: 1) methods that identify
the right patient for a specific treatment and 2) methods that identify the
right treatment for a specific patient. In the first case, a set of treatment
effect modifiers is sought that quantitavely interact with treatment in an
attempt to achieve the highest overall benefit across the entire population. In
the second case, the objective is the idertification of a set of effect
modifiers that qualitatively interact with treatment.

In a more technical approach focusing mainly on tree-based methods,
[Kunzel](https://doi.org/10.1073/pnas.1804597116) separated existing staging
methods into A and S-learners while also suggesting a new approach, the
X-learners. The suggested methods differred in the way they used to recalibrate
the initially derived estimates to estimate conditional average treatment
effects. Assuming binary treatment assignment, A-learners fit treatment-arm
specific models before estimating individualized treatment effects as their
difference. S-learners include treatment assignment in the development of the
tree-based model. They estimate conditional average treatment effect as the
differnce of between setting the treatment indicator to control and active
treatment. Finally, their proposed X-learners, use first-stage outcome models
separately fitted in each treatment arm to impute coutnerfactual outcomes, thus
generating an "observed" treatment effect. Any regular modeling approach can
then be used to estimate treatment effects.

### Future research

Future research should attempt to better capture the expanding literature, and
adequately summarize it to identify gaps and also cross-pollinate
(**rephrase!!**) among the different fields working on what essentially can be
seen as the same problem (**rephrase!!**). The categorization methods provided
here could help (**continue!!**)...
